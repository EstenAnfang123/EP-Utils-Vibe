<mvc:View
	controllerName="sap.ui.demo.basicTemplate.controller.UtilizationByOffer"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
>
	<SplitApp id="pageUtilizationByOffer">
		<masterPages>
			<Page
				id="master"
				showNavButton="true"
				navButtonPress=".onNavBack"
				xmlns:core="sap.ui.core"
				core:require="{
					formatMessage: 'sap/base/strings/formatMessage'
				}"
				title="{
					parts: [{
						path: 'i18n>offers'
					}, {
						path: 'metadata>/offersCount'
					}],
					formatter: '.formatter.itemsCount'
				}"
				class="sapUiStdPage"
			>
				<List
					id="offersList"
					items="{
						path: '/offers',
						sorter: {
							path: 'name'
						}
					}"
					growing="true"
					growingScrollToLoad="true"
					mode="SingleSelectMaster"
					itemPress=".onPressOffersItem"
				>
					<headerToolbar>
						<Toolbar>
							<content>
								<SearchField
									placeholder="{i18n>utilizationSearchFieldPlaceholder}"
									search=".onSearch"
									liveChange=".onSearch"
								/>
								<Button
									icon="sap-icon://synchronize"
									press=".onRefreshOffersPress"
								/>
							</content>
						</Toolbar>
					</headerToolbar>
					<items>
						<ObjectListItem
							title="{name}"
							type="Active"
						>
							<!-- <attributes>
								<ObjectAttribute text="{tmFix}"/>
							</attributes> -->
							<markers>
								<ObjectMarker
									type="Unsaved"
									visibility="IconOnly"
									press=".onEditOfferUsersPress(${id})"
								/>
							</markers>
						</ObjectListItem>
					</items>
				</List>
				<!-- <footer>
					<OverflowToolbar
						width="100%"
						height="46px"
					>
						<content>
							<ToolbarSpacer/>
							<Button
								icon="sap-icon://sort"
								press="handleSortButtonPressed"
							/>
							<Button
								icon="sap-icon://filter"
								press="handleFilterButtonPressed"
							/>
							<Button
								icon="sap-icon://group-2"
								press="handleGroupButtonPressed"
							/>
						</content>
					</OverflowToolbar>
				</footer> -->
				<headerContent/>
			</Page>
		</masterPages>
		<detailPages>
			<Page
				id="detail"
				title="{detail>/offer/name}"
				class="sapUiStdPage"
			>
				<content>
					<ObjectHeader
						title=""
						backgroundDesign="Solid"
						titleActive="false"
						responsive="true"
					>
						<headerContainer>
							<IconTabBar
								class="sapUiSmallMarginBottom sapUiResponsiveContentPadding"
								expandable="false"
							>
								<items>
									<IconTabFilter
										text="{i18n>plan}"
										key="plan"
									>
										<core:Fragment
											fragmentName="sap.ui.demo.basicTemplate.view.UtilizationByOfferFragments.PlanEmployeesTable"
											type="XML"
										/>
									</IconTabFilter>
									<IconTabFilter
										text="{
											path: 'i18n>plan',
											formatter: '.formatter.formatTextNextYear'
										}"
										key="planNext"
									>
										<core:Fragment
											fragmentName="sap.ui.demo.basicTemplate.view.UtilizationByOfferFragments.PlanNextYearEmployeesTable"
											type="XML"
										/>
									</IconTabFilter>
								</items>
							</IconTabBar>
						</headerContainer>
					</ObjectHeader>
				</content>
			</Page>
		</detailPages>
	</SplitApp>
</mvc:View>